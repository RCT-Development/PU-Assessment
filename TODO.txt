Add unit tests
Update naming to match either async or not